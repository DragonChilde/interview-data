# **说说线程池的工作原理**

面试官如果要我们讲下线程池工作原理的话，大家讲下以下这个流程图就可以啦：

![](http://120.77.237.175:9080/photos/eight/java/juc/threadpool/01.jpg)

为了形象描述线程池执行，加深大家的理解，我打个比喻：

- 核心线程比作公司正式员工
- 非核心线程比作外包员工
- 阻塞队列比作需求池
- 提交任务比作提需求

![](http://120.77.237.175:9080/photos/eight/java/juc/threadpool/02.jpg)

- 当产品提个需求，正式员工（核心线程）先接需求（执行任务）
- 如果正式员工都有需求在做，即核心线程数已满），产品就把需求先放需求池（阻塞队列）。
- 如果需求池(阻塞队列)也满了，但是这时候产品继续提需求,怎么办呢？那就请外包（非核心线程）来做。
- 如果所有员工（最大线程数也满了）都有需求在做了，那就执行拒绝策略。
- 如果外包员工把需求做完了，它经过一段（keepAliveTime）空闲时间，就离开公司了。